#summary Beskrivelse af hvordan systemet styres.

= Terminologi =

I dette afsnit betyder procedure en processorinstruktion, altså noget kode vi har kompileret og lagt på processoren.

En _instruktion_ dækker derimod over den kode, der indikerer, hvad vi skal gøre med maskinen - skal x-akse-motoren køre mod højre, skal tegnehovedmotoren køre ned etc.


= Systemstyring =

Systemet styres som én tråd med en forsinkelse inden hvert step. Vi har en uafhængig interrupt, som fx 1000 gange i sekundet gør, at motoren kan køre. Hver gang vi prøver at køre med motoren, må vi vente på næste tidspunkt hvor motoren bliver klar til det.

Hvis motoren skal køre med jævn hastighed, skal forsinkelsen inden hvert step på motoren være længere end den tid det tager at læse en instruktion fra SD-kortet.

Efter hvert vandret eller lodret step skal der være en tidsenhed forsinkelse til det næste step. Efter hvert skråt step skal der være ca 1,4 tidsenheder forsinkelse. Så bevæger tegneren sig i en tilnærmelsesvis jævn hastighed (hvis opløsningen bliver større, bliver hastigheden også mere jævn).


= Instruktioner til maskinen =

se [Dataformat siden om dataformatet] for instruktioner til maskinen.