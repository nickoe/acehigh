\chapter[Hardwaredesign]{Hardware}

% Afsnittet skal indeholdeinformation om vores
% hardware. Strømforsyning, motor drivere, MCU print, transducere
% m.m. Men kun hvad vi kan gøre, for at opfylde vores krav, ikke
% hvordan vi faktisk konstruerer det.

\section{Stepmotor drivere}
I dette projekt har vi to forskellige stepmotorer, som vi har fundet
fra et par bordscannere. Motorene er selvfølgelig forskellige fra
hinanden. Den ene motor er en bipolar motor mens den anden er en
variabel reluktans motor. Vi har i det følgende valgt, at lave hvert
driver print på hvert sit printkort, da vi opnår en vis fleksibilitet,
da vi på den måde lettere kan lave den ene om, i tilfælde af den anden
brænder af eller der er fejl på. \fixme{todo, Omformuler dårlige
  formuleringer}

\subsection{Bipolar motor}
\fixme{Nærbillede af lille motor i marginen, gerne monteret på plotter}

\subsection{Unipolar motor}
\fixme{Nærbillede af stor motor i marginen, gerne monteret på plotter}

\section{Transducer}
Vi skal være i stand til at nulstille maskinens position i forhold til
vores koordinatsystem, fordi vi skal vide hvor vi har vores
udgangspunkt. Til dette kan man gøre det, at man kører motorerne i
retning mod et nulpunkt, men kører længere end det er muligt at
køre. Det skal have til formål, at hovedet bliver trukket til
origo. Men denne metode er ikke anvendelig, da man vil belaste
mekanikken og motorerne for meget. Vi vil derfor anvende nogle
transducere som følrere i en nulstillingsposition. Vi kan anvende et
par fotogafler, hvor vi fører en mekanisk fane ind i. Vi kan så se
lade maskinen se, hvornår der kommer noget ind for sensoren, og vi kan
da stoppe maskinen på den måde ved vi at maskinen er nulstilllet. Vi
kan harefter begynde at anvende maskinen. \fixme{nick: Dette skal
  renskrives, det er skrivet med bind for øjenene.}

\mnote{
  \includegraphics[width=\marginparwidth]{./img/transducer-skitse}
  \captionof{figure}{Placering af fotogafler}
  \label{fig:transducer-skitse}
}

\fixme{nick: Illustrationen af transducerene skal laves rigtigt}

\section{SD-kort adapter}
Vi har vha. kravspecefikationen bestemt, at vi skal kunne styre
maskinen, vha. data fra et SD-kort.

Et SD-kort kan styres på forskellige måder. 

\begin{itemize}
\item{SPI mode (seperat serial ind eller serial ud)}
\item{Et-bit SD mode (seperat kommando og data kanaler samt et
    proprietært overførsels format)}
\item{Fire-bit SD mode (bruger ekstra forbindelser samt nogle
    ombyttede pins for at supportere fire bits bredde på parallel
    overførsel)}
\end{itemize}

---SPI mode (separate serial in and serial out), one-bit SD mode
(separate command and data channels and a proprietary transfer
format), and four-bit SD mode (uses extra pins plus some reassigned
pins) to support four bit wide parallel transfers.---\fixme{Det
  engelske skal slettes, og det danske tjekkes igennem for
  formulereing}

\fixme{Skal vi refere captain.at som kilde, eller bare i
  litteraturlisten? pinouts.ru}

SD-kortet opererer ved en spænding på $3,3V$, derfor skal vi have en
seperat spændingsforsyning på $3,3V$ til kortet. A samme grund er vi
nødt til, at sænke spændingen fra vores MCU fra de 5V, til omkring de
3,3V, før vi kan kommunikere med det. Vi kan opnå dette med en
spændingsdeler, ved IO pinsene der går fra MCU'en til SD-kortet. Når
signalet fra SD-kortet går høj, vil det givetvis være på 3,3V. Dette
er ikke de 5V som voes MCU opererer ved, men det er ikke noget
problem, da det stadigvæk svarer til et højt signal for MCU'en.

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../master"
%%% End: 